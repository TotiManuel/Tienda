<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Tienda{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/icon.png') }}">
</head>
<body>

<header class="header">
    <div class="container">
        <nav class="navbar">

            <div class="nav-left">
                <a href="{{ url_for('web.home') }}" class="nav-logo">Inicio</a>
                <a href="{{ url_for('web.tienda') }}">Tienda</a>
            </div>

            <div class="nav-right">
                {% if session.get('usuario') %}
                    {% set rol = session['usuario']['rol'] %}

                    {% if rol == 'admin' %}
                        <a href="{{ url_for('web.carrito') }}">Carrito</a>
                        <a href="{{ url_for('admin.admin_ventas') }}">Ventas</a>
                        <a href="{{ url_for('admin.admin_clientes') }}">Clientes</a>
                        <a href="{{ url_for('admin.admin_productos') }}">Productos</a>
                        <a href="{{ url_for('admin.admin_proveedores') }}">Proveedores</a>
                        <a href="{{ url_for('admin.admin_promociones') }}">Promociones</a>
                        <a href="{{ url_for('admin.admin_stock') }}">Stock</a>
                        <a href="{{ url_for('admin.admin_usuarios') }}">Usuarios</a>
                        <a href="{{ url_for('admin.admin_configuracion') }}">Configuración</a>

                    {% elif rol == 'vendedor' %}
                        <a href="{{ url_for('web.carrito') }}">Carrito</a>
                        <a href="{{ url_for('vendedor.vendedor_ventas') }}">Ventas</a>
                        <a href="{{ url_for('vendedor.vendedor_clientes') }}">Clientes</a>
                        <a href="{{ url_for('vendedor.vendedor_productos') }}">Productos</a>
                        <a href="{{ url_for('vendedor.vendedor_caja') }}">Caja</a>

                    {% elif rol == 'cliente' %}
                        <a href="{{ url_for('web.carrito') }}">Carrito</a>
                        <a href="{{ url_for('cliente.pedidos') }}">Mis pedidos</a>
                        <a href="{{ url_for('cliente.perfil') }}">Mi perfil</a>
                    {% endif %}

                    <span class="nav-user">
                        {{ session['usuario']['nombre'] }}
                    </span>
                    <a href="{{ url_for('auth.logout') }}" class="nav-logout">
                        Cerrar sesión
                    </a>
                {% else %}
                    <a href="{{ url_for('auth.login') }}" class="nav-login">
                        Iniciar sesión
                    </a>
                {% endif %}
            </div>

        </nav>
    </div>
</header>

<main class="main">
    <div class="container">
        {% block content %}{% endblock %}
    </div>
</main>

<footer class="footer">
    <div class="container">
        <p>&copy; 2026 Tienda. Todos los derechos reservados.</p>
    </div>
</footer>

</body>
</html>
